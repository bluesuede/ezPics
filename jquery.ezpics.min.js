(function($,window){$.fn.ezSlider=function(ops){var
options=$.extend({'fade':500,'intervalTime':5000,'height':350,'dots':true,'bgColor':'white','squareDots':false},ops),amount=$(this).children().length,dotmenu=$('<ul id="dots"></ul>'),dothtml='<li class="dot selected-button"><a href="#">0</a></li>',pics=$(this).children(),dots,intervalID,intervalTime=options.intervalTime,fade=options.fade,height=options.height;$(this).children().css({'backgroundColor':options.bgColor});$(this).css({'maxHeight':height+'px'});if(options.dots){for(i=1;i<amount;i++){dothtml+='<li class="dot unselected-button"><a href="#">'+i+'</a></li>';}
dotmenu.append(dothtml);dotmenu.insertAfter($(this));dots=$('#dots').children();if(options.squareDots){dots.children().css({'borderRadius':'2px'});}
dots.click(function(event){event.preventDefault();var chosenPicIndex=$(this).text();clearInterval(intervalID);fadeOutAndIn(pics.eq(chosenPicIndex));setTimeout(function(){makeInterval();},fade);});}
pics.css({'zIndex':'1','opacity':'1'});pics.eq(0).addClass('seen').css({'zIndex':'3','position':'relative'});function changeDotFocus(currDot,nextDot){currDot.removeClass('selected-button').addClass('unselected-button');nextDot.removeClass('unselected-button').addClass('selected-button');}
function fadeOutAndIn(chosenPic){var current=$('.seen'),next;if(!chosenPic){if(current.index()===amount-1){next=0;}
else{next=current.index()+1;}
chosenPic=pics.eq(next);}
if(current.index()!==chosenPic.index()){chosenPic.css({'zIndex':'2'});if(options.dots){changeDotFocus(dots.eq(current.index()),dots.eq(chosenPic.index()));}
current.fadeTo(fade,0.0,function(){current.removeClass('seen').css({'zIndex':'1','opacity':'1'});chosenPic.addClass('seen').css({'zIndex':'3'});});}}
function makeInterval(){intervalID=setInterval(function(){fadeOutAndIn();},intervalTime);}
makeInterval();}
$.fn.ezLbox=function(){if(document.getElementById('overlay')==null){$('<div id="overlay"></div>').css('opacity','0').animate({'opacity':'0.9'},'fast').appendTo('body').click(function(){removeLightbox();});}
$('<div id="lightbox"></div>').hide().appendTo('body');$('<img>').attr('src',$(this).attr('src')).css({'maxWidth':$(window).width()*0.9,'maxHeight':$(window).height()*0.9}).load(function(){positionLightboxImage();}).click(function(){removeLightbox();}).appendTo('#lightbox');function positionLightboxImage(){var top=($(window).height()-$('#lightbox').height())/ 2;var left=($(window).width()-$('#lightbox').width())/ 2;$('#lightbox').css({'top':top,'left':left}).fadeIn();}
function removeLightbox(){$('#overlay, #lightbox').fadeOut('fast',function(){$(this).remove();});}}
$.fn.ezGlry=function(ops){var
options=$.extend({'counter':true},ops),listitems=$(this).children(),pics=listitems.children(),amount=listitems.size();pics.click(function(){var
no=$(this).parent().index();loadImg($(this),no);});function loadImg(obj,no){$('#lightbox').remove();obj.ezLbox();createArrowLinks(no);}
function createArrowLinks(no){var
top=($(window).height()-$('#lightbox').height())/ 2,side=($(window).width()-$('#lightbox').width())/ 2,arrowHeight=$('#lightbox').height()-5,arrowWidth=$('#lightbox').width()*0.2,prevImg,nextImg;$('<div class="ezGlry-arrow-container"></div>').appendTo('#lightbox');if(options.counter){imgCounter(no,top,side);}
if(no!==0){prevImg=$(listitems).eq(no-1).children();$('<div class="ezGlry-arrow"><span class="ezGlry-arrow-inside"><</span></div>').css({'top':top,'height':arrowHeight,'width':arrowWidth,'left':side}).appendTo('.ezGlry-arrow-container').click(function(){loadImg(prevImg,no-1);});}
if(no+1!==amount){nextImg=$(listitems).eq(no+1).children();$('<div class="ezGlry-arrow"><span class="ezGlry-arrow-inside">></span></div>').css({'top':top,'height':arrowHeight,'width':arrowWidth,'right':side}).appendTo('.ezGlry-arrow-container').click(function(){loadImg(nextImg,no+1);});}}
function imgCounter(no,top,left){if(document.getElementById('ezGlry-counter-wrap')==null){$('<div id="ezGlry-counter-wrap"></div>').appendTo('#overlay').css({'display':'block'});$('<span class="ezGlry-counter-text"></span>').appendTo('#ezGlry-counter-wrap').css({'font-size':'1.5vw','color':'white','position':'fixed','top':top+$('#lightbox').height(),'left':left}).text('Image '+(no+1)+'/'+amount);}
else{$('.ezGlry-counter-text').css({'left':left,'top':top+$('#lightbox').height()}).text('Image '+(no+1)+'/'+amount);}}}})(jQuery,this);